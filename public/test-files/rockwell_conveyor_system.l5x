<?xml version="1.0" encoding="UTF-8"?>
<RSLogix5000Content SchemaRevision="1.0" SoftwareRevision="33.01">
  <Controller Use="Context" Name="ConveyorSystem">
    <DataTypes>
      <DataType Name="MOTOR_UDT" Family="NoFamily" Class="User">
        <Members>
          <Member Name="Start_Cmd" DataType="BOOL" Dimension="0" Radix="Decimal" Hidden="false" ExternalAccess="Read/Write"/>
          <Member Name="Stop_Cmd" DataType="BOOL" Dimension="0" Radix="Decimal" Hidden="false" ExternalAccess="Read/Write"/>
          <Member Name="Running" DataType="BOOL" Dimension="0" Radix="Decimal" Hidden="false" ExternalAccess="Read/Write"/>
          <Member Name="Fault" DataType="BOOL" Dimension="0" Radix="Decimal" Hidden="false" ExternalAccess="Read/Write"/>
          <Member Name="Speed_SP" DataType="REAL" Dimension="0" Radix="Float" Hidden="false" ExternalAccess="Read/Write"/>
          <Member Name="Speed_PV" DataType="REAL" Dimension="0" Radix="Float" Hidden="false" ExternalAccess="Read/Write"/>
        </Members>
      </DataType>
    </DataTypes>
    <Tags>
      <Tag Name="Conveyor_Motor_1" TagType="Base" DataType="MOTOR_UDT" Constant="false" ExternalAccess="Read/Write">
        <Description>Main conveyor motor control</Description>
      </Tag>
      <Tag Name="Conveyor_Motor_2" TagType="Base" DataType="MOTOR_UDT" Constant="false" ExternalAccess="Read/Write">
        <Description>Secondary conveyor motor control</Description>
      </Tag>
      <Tag Name="Emergency_Stop" TagType="Base" DataType="BOOL" Constant="false" ExternalAccess="Read/Write">
        <Description>Emergency stop pushbutton</Description>
      </Tag>
      <Tag Name="Safety_Gate_1" TagType="Base" DataType="BOOL" Constant="false" ExternalAccess="Read/Write">
        <Description>Safety gate 1 position switch</Description>
      </Tag>
      <Tag Name="Safety_Gate_2" TagType="Base" DataType="BOOL" Constant="false" ExternalAccess="Read/Write">
        <Description>Safety gate 2 position switch</Description>
      </Tag>
      <Tag Name="Light_Curtain" TagType="Base" DataType="BOOL" Constant="false" ExternalAccess="Read/Write">
        <Description>Light curtain safety device</Description>
      </Tag>
      <Tag Name="Master_Enable" TagType="Base" DataType="BOOL" Constant="false" ExternalAccess="Read/Write">
        <Description>Master system enable</Description>
      </Tag>
      <Tag Name="System_Running" TagType="Base" DataType="BOOL" Constant="false" ExternalAccess="Read/Write">
        <Description>System operational status</Description>
      </Tag>
      <Tag Name="Fault_Reset" TagType="Base" DataType="BOOL" Constant="false" ExternalAccess="Read/Write">
        <Description>Fault reset button</Description>
      </Tag>
      <Tag Name="Auto_Mode" TagType="Base" DataType="BOOL" Constant="false" ExternalAccess="Read/Write">
        <Description>Automatic operation mode</Description>
      </Tag>
      <Tag Name="Manual_Mode" TagType="Base" DataType="BOOL" Constant="false" ExternalAccess="Read/Write">
        <Description>Manual operation mode</Description>
      </Tag>
      <Tag Name="Production_Count" TagType="Base" DataType="DINT" Constant="false" ExternalAccess="Read/Write">
        <Description>Production counter</Description>
      </Tag>
    </Tags>
    <Programs>
      <Program Name="MainProgram" TestEdits="false" MainRoutineName="MainRoutine" Disabled="false" UseAsFolder="false">
        <Description>Main control program</Description>
        <Tags>
          <Tag Name="Timer_1" TagType="Base" DataType="TIMER" Constant="false" ExternalAccess="None">
            <Description>Production cycle timer</Description>
          </Tag>
        </Tags>
        <Routines>
          <Routine Name="MainRoutine" Type="RLL">
            <Description>Main control logic</Description>
            <RLLContent>
              <Rung Number="0" Type="N">
                <Comment>Emergency Stop Logic</Comment>
                <Text>XIC(Emergency_Stop)OTE(System_Running);</Text>
              </Rung>
              <Rung Number="1" Type="N">
                <Comment>Safety Gate Interlock</Comment>
                <Text>XIC(Safety_Gate_1)XIC(Safety_Gate_2)XIC(Light_Curtain)OTE(Master_Enable);</Text>
              </Rung>
              <Rung Number="2" Type="N">
                <Comment>Motor Control Logic</Comment>
                <Text>XIC(Master_Enable)XIC(Auto_Mode)OTE(Conveyor_Motor_1.Start_Cmd);</Text>
              </Rung>
            </RLLContent>
          </Routine>
          <Routine Name="SafetyRoutine" Type="RLL">
            <Description>Safety monitoring routine</Description>
            <RLLContent>
              <Rung Number="0" Type="N">
                <Comment>Safety System Monitor</Comment>
                <Text>XIO(Emergency_Stop)XIO(Safety_Gate_1)XIO(Safety_Gate_2)XIO(Light_Curtain)OTE(System_Running);</Text>
              </Rung>
            </RLLContent>
          </Routine>
        </Routines>
      </Program>
    </Programs>
  </Controller>
</RSLogix5000Content>
